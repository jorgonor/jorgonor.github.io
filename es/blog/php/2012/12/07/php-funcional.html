<!DOCTYPE html>
<html lang="es">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  
  <link rel="stylesheet" href="/css/main.css" media="screen,projection" />
  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />
  
  
  <link rel="alternate" type="application/rss+xml" title="Jorgonor" href="https://jorgonor.com/es/feed.xml" />
  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>PHP Funcional | Jorgonor</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="PHP Funcional" />
<meta name="author" content="jorgonor" />
<meta property="og:locale" content="es" />
<meta name="description" content="Programación funcional. ¿Qué es ese paradigma de programación del que se habla tanto últimamente? En este post vamos a explicar de que se trata." />
<meta property="og:description" content="Programación funcional. ¿Qué es ese paradigma de programación del que se habla tanto últimamente? En este post vamos a explicar de que se trata." />
<link rel="canonical" href="https://jorgonor.com/es/blog/php/2012/12/07/php-funcional.html" />
<meta property="og:url" content="https://jorgonor.com/es/blog/php/2012/12/07/php-funcional.html" />
<meta property="og:site_name" content="Jorgonor" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-12-07T19:24:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="PHP Funcional" />
<meta name="twitter:site" content="@jorgonor" />
<meta name="twitter:creator" content="@jorgonor" />
<meta name="google-site-verification" content="F_iQ3vgdOe6rDYNG-NjoHfXirbNnHwytIs3AXYkvqAw" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"jorgonor"},"dateModified":"2016-07-08T20:00:00+00:00","datePublished":"2012-12-07T19:24:00+00:00","description":"Programación funcional. ¿Qué es ese paradigma de programación del que se habla tanto últimamente? En este post vamos a explicar de que se trata.","headline":"PHP Funcional","mainEntityOfPage":{"@type":"WebPage","@id":"https://jorgonor.com/es/blog/php/2012/12/07/php-funcional.html"},"url":"https://jorgonor.com/es/blog/php/2012/12/07/php-funcional.html"}</script>
<!-- End Jekyll SEO tag -->


  

  <meta name="keywords" content="PHP, Functional programming" >

  
  <meta name="content-language" content="es">
  

  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4HH511444Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4HH511444Z');
</script>

</head>

  <body class="post">
      
    

<div id="sidebar">
  <header>
    <div class="site-title">
      <a href="/es">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Jorgonor
      </a>
    </div>
    <p class="lead">Desarrollador de Software</p>
  </header>

  <nav id="sidebar-nav-links">
  
  <a class="page-link" href="/es/blog.html">Blog</a>
  
  <a class="page-link" href="/es/contacto.html">Contacto</a>
  
</nav>

  <nav id="sidebar-icon-links">
  <a class="icon" href="https://www.linkedin.com/in/jorgonor88" target="_blank" aria-label="Linkedin" alt="Linkedin">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0v24h24v-24h-24zm8 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.397-2.586 7-2.777 7 2.476v6.759z"/></svg>
  </a>
  <a id="github-link"
      class="icon" title="Follow @jorgonor on GitHub" aria-label="Follow @jorgonor on GitHub"
      href="https://github.com/jorgonor">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 28" height="24" width="28"><path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-0.609 0.109-0.828-0.266-0.828-0.578 0-0.391 0.016-1.687 0.016-3.297 0-1.125-0.375-1.844-0.812-2.219 2.672-0.297 5.484-1.313 5.484-5.922 0-1.313-0.469-2.375-1.234-3.219 0.125-0.313 0.531-1.531-0.125-3.187-1-0.313-3.297 1.234-3.297 1.234-0.953-0.266-1.984-0.406-3-0.406s-2.047 0.141-3 0.406c0 0-2.297-1.547-3.297-1.234-0.656 1.656-0.25 2.875-0.125 3.187-0.766 0.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-0.344 0.313-0.656 0.844-0.766 1.609-0.688 0.313-2.438 0.844-3.484-1-0.656-1.141-1.844-1.234-1.844-1.234-1.172-0.016-0.078 0.734-0.078 0.734 0.781 0.359 1.328 1.75 1.328 1.75 0.703 2.141 4.047 1.422 4.047 1.422 0 1 0.016 1.937 0.016 2.234 0 0.313-0.219 0.688-0.828 0.578-4.766-1.594-8.203-6.094-8.203-11.391 0-6.625 5.375-12 12-12zM4.547 19.234c0.031-0.063-0.016-0.141-0.109-0.187-0.094-0.031-0.172-0.016-0.203 0.031-0.031 0.063 0.016 0.141 0.109 0.187 0.078 0.047 0.172 0.031 0.203-0.031zM5.031 19.766c0.063-0.047 0.047-0.156-0.031-0.25-0.078-0.078-0.187-0.109-0.25-0.047-0.063 0.047-0.047 0.156 0.031 0.25 0.078 0.078 0.187 0.109 0.25 0.047zM5.5 20.469c0.078-0.063 0.078-0.187 0-0.297-0.063-0.109-0.187-0.156-0.266-0.094-0.078 0.047-0.078 0.172 0 0.281s0.203 0.156 0.266 0.109zM6.156 21.125c0.063-0.063 0.031-0.203-0.063-0.297-0.109-0.109-0.25-0.125-0.313-0.047-0.078 0.063-0.047 0.203 0.063 0.297 0.109 0.109 0.25 0.125 0.313 0.047zM7.047 21.516c0.031-0.094-0.063-0.203-0.203-0.25-0.125-0.031-0.266 0.016-0.297 0.109s0.063 0.203 0.203 0.234c0.125 0.047 0.266 0 0.297-0.094zM8.031 21.594c0-0.109-0.125-0.187-0.266-0.172-0.141 0-0.25 0.078-0.25 0.172 0 0.109 0.109 0.187 0.266 0.172 0.141 0 0.25-0.078 0.25-0.172zM8.937 21.438c-0.016-0.094-0.141-0.156-0.281-0.141-0.141 0.031-0.234 0.125-0.219 0.234 0.016 0.094 0.141 0.156 0.281 0.125s0.234-0.125 0.219-0.219z"></path>
</svg>

  </a>
  
  <a id="x-link" class="icon" href="https://twitter.com/jorgonor" >
    <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 462.799" width="24" height="24">
<path fill-rule="nonzero" d="M403.229 0h78.506L310.219 196.04 512 462.799H354.002L230.261 301.007 88.669 462.799h-78.56l183.455-209.683L0 0h161.999l111.856 147.88L403.229 0zm-27.556 415.805h43.505L138.363 44.527h-46.68l283.99 371.278z"/>
</svg>
  </a>
  
  
  
  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="https://jorgonor.com/es/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>
  <a id="stackoverflow-link" href="https://stackoverflow.com/users/6254934/jorgonor">
    <img src="https://stackoverflow.com/users/flair/6254934.png?theme=dark" width="208" height="58" alt="profile for jorgonor at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for jorgonor at Stack Overflow, Q&amp;A for professional and enthusiast programmers" />
  </a>
  
</nav>
  
<p class="lead-2">Experiencia</p>

<ul class="pages-list">
    <li class="exp-link"><a href="/es/programador/php.html" class="white-text">PHP</a></li>
</ul>


  <div id="footer-copy">
    © 2016-2024 <a href="https://jorgonor.com">jorgonor.com</a>
    Vila-real, Castellón - España
</div>
</div>

    <main class="container">
      <div id="cookies_notice" >
    <div class="col s8 m10">
        <span class="card-title">Cookies</span>
        <p>Esta web utiliza cookies para obtener datos estadísticos de la navegación de sus usuarios. Si continúas navegando consideramos que aceptas su uso.</p>
    </div>
    <div class="col s4 m2">
        <a id="cookies_notice_close" href="#">Aceptar</a>
    </div>
</div>

      <div class="content">
        <h1>PHP Funcional</h1>
        <header class="post-header">
          <p class="post-meta">Dec 7, 2012</p>
        </header>
        
        <div class="post-body">  
          <p>
Programación funcional. ¿Qué es ese paradigma del que se habla tanto últimamente?
En este post vamos a tratar de explicar más o menos de que trata la programación funcional, y vamos a poner algún ejemplo en PHP. <strong>Sí, en PHP</strong>.
</p>

<h3>El concepto</h3>

<p>La programación funcional no es una corriente moderna, ya tiene sus años con la aparición del <a href="http://es.wikipedia.org/wiki/C%C3%A1lculo_lambda">Lambda Cálculo</a> con lenguajes como <a href="http://es.wikipedia.org/wiki/Lisp">Lisp</a>.</p>

<p>
    Se trata básicamente de que tenemos a nuestra disposición estructuras de datos y funciones, añadiendo comodidades al lenguaje de programación en cuestión para utilizar funciones como variables o pasarlas como argumento a otra función.
    Otros mecanismos que se suelen relacionar con la programación funcional suele ser el <a href="http://en.wikipedia.org/wiki/Currying">Currying</a> la inicialización perezosa (<a href="http://en.wikipedia.org/wiki/Lazy_initialization">Lazy Initialization</a>) y la inmutabilidad.
</p>

<p>
    El concepto es bastante abstracto, y es dificil de entender sin un ejemplo, así que mostremos un primer uso básico de programación funcional, utilizando una función como argumento de otra función.
</p>

<h3>Un ejemplo</h3>
<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">function</span> <span class="n">index_and_value_are_even</span><span class="p">(</span><span class="nv">$arr</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">foreach</span><span class="p">(</span><span class="nv">$arr</span> <span class="k">as</span> <span class="nv">$index</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$value</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nv">$index</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$result</span><span class="p">[</span><span class="nv">$index</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nf">index_and_value_are_even</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]));</span></code></pre></figure>

<p>
Este fragmento de código devuelve un array vacío, dado que nunca tenemos un valor par en el array pasado como argumento que tenga también un índice par.
</p>

<p>
    En mil aplicaciones se pueden ver fragmentos de código así, recorriendo un array y aplicando una operación de filtrado sobre él.
    No es que sea una mala manera de hacerlo, es sencillo de entender y estándar, aunque sin darnos cuenta estamos reinventando la rueda y utilizando mucha más sintaxis de la necesaria,
    repetitiva y poco expresiva.
</p>

<p>
    Veamos como sería la función anterior usando programación funcional.
</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="n">is_even</span><span class="p">(</span><span class="nv">$n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nv">$n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="n">index_and_value_are_even</span><span class="p">(</span><span class="nv">$arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$arr</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$index</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">is_even</span><span class="p">(</span><span class="nv">$index</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nf">is_even</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span></code></pre></figure>
<p>
    ¿Mucho mejor, no? Aunque en esto de la programación para gustos los colores, a mi parecer el código es mucho más expresivo utilizando la programación funcional.
</p>

<p>
    Como comentamos en el propio post, hay un problema con esta solución y es que PHP no ofrece una función nativa para filtrar arrays que nos proporcione el índice o clave en la función argumento.
    Existe la función <a href="http://php.net/manual/es/function.array-filter.php">array_filter</a> pero solo permite filtrar por el valor.
    Esto no acaba de ser lo óptimo, ya que sobretodo si utilizamos arrays como hashes, la clave puede tener mucho que ver en cuanto a nuestra operación de filtrado.
    De todas formas, es trivial desarrollar por nuestra parte ésta función.
</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>

<span class="k">function</span> <span class="n">array_filter_with_indices</span><span class="p">(</span><span class="kt">array</span> <span class="nv">$arr</span><span class="p">,</span> <span class="kt">callable</span> <span class="nv">$fn</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">foreach</span><span class="p">(</span><span class="nv">$arr</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$fn</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$result</span><span class="p">[</span><span class="nv">$key</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>
    Sí, una implementación muy simple. Ahora cada vez que queramos quedarnos con parte de un array podemos utilizar nuestra función filter con una función anónima como argumento que nos diga que condiciones queremos que cumplan los objetos.
    Hay que tener cuidado en que si le pasamos como argumento un array no hash en el que nos importe mantener los índices cohesionados, la función va a devolver el par índice valor original, por lo que si toma los elementos en las posiciones 1 y 25 va a devolver un array tal que así.
</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="p">[</span>
    <span class="mi">1</span> <span class="o">=&gt;</span> <span class="s1">'valor'</span><span class="p">,</span>
    <span class="mi">25</span> <span class="o">=&gt;</span> <span class="s1">'valor'</span>
<span class="p">];</span></code></pre></figure>
<p>
    Destacar de este fragmento de código el uso del <a href="http://php.net/manual/en/language.oop5.typehinting.php">Type Hinting</a>,
    un mecanismo poco conocido de PHP con el que hacemos el lenguaje un poco estático añadiendo type checking en los argumentos de una función,
    algo que es muy útil en ciertas ocasiones. Como podemos ver, existe la posibilidad de decir que una función o método recibe algo <i>callable</i>
    es decir, que se puede llamar. Este tipo de <i>type hinting</i> se ha añadido en la versión 5.4, por lo que no puede usarse en versiones anteriores del lenguaje.
</p>

<p>
    En próximos posts implementaremos más funciones básicas de la programación funcional en PHP,
    y examinaremos más mecanismos que ofrece el lenguaje para desarrollar utilizando la programación funcional.
</p>

          



<div class="post-tags">
  
    <span>
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">PHP</span>
    </span>
  
    <span>
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">Functional programming</span>
    </span>
  
</div>
        </div>

        <div id="disqus_thread"></div>
        <script>
            var canonicalUrl = document.location.toString(); 
            var disqus_config = function () {
                this.page.url = canonicalUrl;
                this.page.identifier = "";
            };
            (function() {  // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                
                s.src = '//jorgonorcom.disqus.com/embed.js';
                
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>

        <section class="related"></section>
      </div>
    </main>
    <script type="text/javascript" src="/app/app.js"></script>

  </body>
</html>
